'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.options = undefined;

var _commandLineArgs = require('command-line-args');

var _commandLineArgs2 = _interopRequireDefault(_commandLineArgs);

var _commandLineUsage = require('command-line-usage');

var _commandLineUsage2 = _interopRequireDefault(_commandLineUsage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var optionList = [{
    name: 'bundle',
    type: String,
    defaultOption: true,
    description: 'path to the unpacked bundle file generated by `meteor build`'
}, {
    name: 'config',
    alias: 'c',
    type: String,
    description: 'path to the pm2 config file'
}, {
    name: 'settings',
    alias: 's',
    type: String,
    description: 'path to the settings file, relative to the `private` ' + 'folder (like you would use it with `Assets.getText()`)'
}, {
    name: 'bindInterface',
    alias: 'i',
    type: String,
    description: 'network interface you want to bind to (defaults to tun0)'
}, {
    name: 'bindIp',
    alias: 'b',
    type: String,
    description: 'IP you want to listen to (overrides --bindInterface)'
}];

var options = exports.options = (0, _commandLineArgs2.default)(optionList);

if (!options.bundle || !options.config || !options.settings) {
    var sections = [{
        header: 'Usage',
        content: 'deploy-meteor [bold]{--config=}path/to/pm2-config.json ' + '[bold]{--settings=}settings.json ' + '[italic]{[--bindInterface=tun0]} [italic]{[--bindIp=10.0.0.1]}' + '[italic]{[--bundle=]}path/to/bundle '
    }, {
        header: 'Options',
        optionList
    }];
    var usage = (0, _commandLineUsage2.default)(sections);
    console.log(usage);
    process.exit(1);
}